document.addEventListener("DOMContentLoaded",(function(){var e=new bootstrap.Modal(document.getElementById("event-modal"),{keyboard:!1});document.getElementById("event-modal");var t=document.getElementById("modal-title"),n=document.getElementById("form-event"),a=null,l=null,d=document.getElementsByClassName("needs-validation"),i=(a=null,l=null,new Date),s=i.getDate(),r=i.getMonth(),o=i.getFullYear();new(0,FullCalendar.Draggable)(document.getElementById("external-events"),{itemSelector:".external-event",eventData:function(e){return{title:e.innerText,start:new Date,className:e.getAttribute("data-class")}}});var c=[{title:"All Day Event",start:new Date(o,r,1),className:"bg-primary"},{title:"Long Event",start:new Date(o,r,s-5),end:new Date(o,r,s-2),className:"bg-warning"},{id:999,title:"Repeating Event",start:new Date(o,r,s-3,16,0),allDay:!1,className:"bg-info"},{id:999,title:"Repeating Event",start:new Date(o,r,s+4,16,0),allDay:!1,className:"bg-primary"},{title:"Meeting",start:new Date(o,r,s,10,30),allDay:!1,className:"bg-success"},{title:"Lunch",start:new Date(o,r,s,12,0),end:new Date(o,r,s,14,0),allDay:!1,className:"bg-danger"},{title:"Birthday Party",start:new Date(o,r,s+1,19,0),end:new Date(o,r,s+1,22,30),allDay:!1,className:"bg-success"},{title:"Click for Google",start:new Date(o,r,28),end:new Date(o,r,29),url:"http://google.com/",className:"bg-dark"}],m=(document.getElementById("external-events"),document.getElementById("calendar"));function u(d){e.show(),n.classList.remove("was-validated"),n.reset(),a=null,t.innerText="Add Event",l=d}function v(){return window.innerWidth>=768&&window.innerWidth<1200?"timeGridWeek":window.innerWidth<=768?"listMonth":"dayGridMonth"}var g=new FullCalendar.Calendar(m,{timeZone:"local",editable:!0,droppable:!0,selectable:!0,initialView:v(),themeSystem:"bootstrap",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},windowResize:function(e){var t=v();g.changeView(t)},eventDidMount:function(e){if("done"===e.event.extendedProps.status){e.el.style.backgroundColor="red";var t=e.el.getElementsByClassName("fc-event-dot")[0];t&&(t.style.backgroundColor="white")}},eventClick:function(d){e.show(),n.reset(),document.getElementById("event-title").value[0]="",a=d.event,document.getElementById("event-title").value=a.title,document.getElementById("event-category").value=a.classNames[0],l=null,t.innerText="Edit Event",l=null},dateClick:function(e){u(e)},events:c});g.render(),n.addEventListener("submit",(function(t){t.preventDefault();var n=document.getElementById("event-title").value,i=document.getElementById("event-category").value;if(!1===d[0].checkValidity())d[0].classList.add("was-validated");else{if(a)a.setProp("title",n),a.setProp("classNames",[i]);else{var s={title:n,start:l.date,allDay:l.allDay,className:i};g.addEvent(s)}e.hide()}})),document.getElementById("btn-delete-event").addEventListener("click",(function(e){a&&(a.remove(),(a=null).hide())})),document.getElementById("btn-new-event").addEventListener("click",(function(e){u({date:new Date,allDay:!0})}))}));